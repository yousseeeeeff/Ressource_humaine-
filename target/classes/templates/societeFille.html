<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymleaf/layout"
      layout:decorator="template"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>

    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" type="text/css" href="webjars\bootstrap\4.1.3\css\bootstrap.min.css">
</head>

<body>
<section layout:fragment="pagecontent">

    <div class="container mt-5">
        <div class="card">
            <div class="card-header">la liste des sociétés filles </div>
            <div class="card-body">
                <form method="get" th:action="@{societeFF}">
                    <div class="form-group">
                        <label>NAME</label>
                        <input type="text" name="keyword" th:value="${keyword}">
                        <button class="btn btn-success">Chercher</button>
                    </div>
                </form>
                <table class="table">
                    <tr>
                        <th>Id</th>
                        <th> Nom</th>
                        <th> Num affiliation</th>
                        <th> Adresse</th>
                        <th>Société mére</th>


                    </tr>
                    <tr th:each="p:${societeFF}" >
                        <td th:text="${p.id}"></td>
                        <td th:text="${p.nom}"></td>
                        <td th:text="${p.n_Num_Affilie}"></td>
                        <td th:text="${p.adresse}"></td>
                        <td th:text="${p.societeM?.nom}"></td>





                        <td sec:authorize="hasRole('ADMIN')"><a onclick="return confirm('etes vous sure de vouloir suprimer?')" th:button
                                                                class="btn btn-danger"
                                                                th:href="@{deletesf(id= ${p.id},keyword=${keyword},page=${currentpages},size=${size})}">Delete</a>
                        </td>
                        <td sec:authorize="hasRole('ADMIN')">
                            <a class="btn btn-success" th:href="@{editsf(id=${p.id})}" >Edit</a>
                        </td>


                    </tr>
                </table>
                <ul class="nav nav-pills">
                    <li th:each="page,statuts:${pages}">
                        <a th:class="${statuts.index==currentpages?'btn btn-primary':'btn'}"
                           th:href="@{societeFille(page=${statuts.index},keyword=${keyword},size=${size})}"
                           th:text="${statuts.count}"></a>
                    </li>
                </ul>
            </div>
        </div>
        <!--<h3 class="h3" align="center"> List patients malades TOUJOURS</h3>-->
    </div>
</section>

</body>
</html>